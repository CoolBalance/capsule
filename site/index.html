---
layout: default
---

<body class="fixed">
    <section id="section1">
    	<div class="container">
               <div id="banner-title">
                    <img src="images/capsule.png" alt=""/>
                    <h1>Capsule</h1>
                    <p>Package and Deploy JVM Applications</p>
                    <br></br>
                </div>
        </div><!--container-->
    </section> <!--section-->

     <section id="section2">
        <div class="container">
           <div class="col4">
                <div class="box-col">
                    <span class="features"></span>
                    <h3>Packaging: small, portable and convenient</h3>
                    <p> Packages any JVM application, no matter how complex, as a single, plain executable JAR. A capsule may directly contain all of the applicationâ€™s dependencies or simply declare some or all of them, to be downloaded when launched. Built with standard build tools, it is the fat JAR that <b>always</b> works.</p>
                </div>
            </div><!--col4-->
            <div class="col4">
                <div class="box-col">
                    <span class="features"></span>
                    <h3>Installation: minimal impact on host, supports updates</h3>
                    <p> A capsule installs itself the first time it is run by creating some files in a temporary directory. It may also optionally look for updates, either to the application or its dependencies, and download them when it launches. Those dependencies may be shared by other capsules.</p>
                </div>
            </div><!--col4-->
            <div class="col4">
                <div class="box-col">
                    <span class="features"></span>
                    <h3>Launch: deterministic yet flexible, possibly secure and optionally restricted</h3>
                    <p>No startup scripts required. The capsule looks for the requested JVM version, sets up the classpath and necessary agents and sets the JVM flags. Capsules can also create their own safe, unprivileged containers.</p>
                </div>
            </div><!--col4-->
        </div>
    </section>

    <section id="section3">
    	<div class="container">
            <div id="sidebar">
                <h3>News</h3>
                {% include news.html %}
            </div><!--sidebar-->
        	<div id="intro">
            	<h3>What is Capsule?</h3>
                <p> Capsule is a packaging and deployment tool for JVM applications. A capsule is a single executable JAR that contains everything your application needs to run either in the form of embedded files or as declarative metadata. It can contain your JAR artifacts, your dependencies and resources, native libraries, the required JRE version, the JVM flags required to run the application, Java or native agents and more. In short, a capsule is a self-contained JAR that knows everything there is to know about how to run your application the way it's meant to run.</p>

                <p>One way of thinking about a capsule is as a fat JAR on steroids (that also allows native libraries and never interferes with your dependencies) and a declarative startup script rolled into one; another, is to see it is as the deploy-time counterpart to your build tool.Just as a build tool manages your build, Capsule manages the launching of your application.</p>

                <p>But while plain capsules are cool and let you ship any JVM application -- no matter how complex -- as a single executable JAR, caplets make capsules even more powerful.</p>
            </div><!--intro-->

        </div><!--container-->
    </section>

    <section id="section4">
        <div class="container">
            <div id="intro2">
                <h3>What are Caplets?</h3>
                <p> Caplets are classes that hook into the capsule and modify its behavior. By default, a capsule contains metadata about your application and the means to execute it as a plain JVM program. Caplets can use the metadata in the capsule to launch the application in some more sophisticated ways, or even change the way it is packaged.<p>

                <p>A caplet can be embedded in the capsule, or be packaged separately and used to wrap an existing capsule. While every caplet can be embedded or used as a wrapper, usually just one of the options makes sense.</p>

                <p>See <a href="/caplets">here</a> for a list of available caplets</p>
            </div><!--intro-->
        </div><!--container-->
    </section>

    <section id="section5">
        <div class="container">
            <div id="intro">
                <h3>Cool Stuff You Can Do with Capsules</h3>
                <ul class="a">
                    <li>Run a capsule as a minimal, secure (unprivileged) Linux Container that automatically pumps JMX monitoring and standard Java logging outside the container.</li>
                    <li>Have your JAR automatically choose an appropriate JVM version, set JVM flags, and add an embedded JAR to the boot class path.</li>
                    <li>Embed any required native libraries directly in the JAR, and Capsule automatically makes sure your application finds them.</li>
                    <li>Distribute your application as an "executable WAR": it can be deployed to a servlet container <b>or</b>, if executed directly, by use of the Maven caplet it will automatically download Jetty and deploy itself into the embedded container.</li>
                    <li>Distribute a Clojure application without embedding Clojure itself in the capsule, and have Clojure downloaded the first time the capsule is launched. The Clojure runtime will be cached and shared among all Clojure capsules so it will only be downloaded once.</li>
                    <li>Turn any capsule into an OS-specific native application or daemon.</li>
                </ul>
            </div><!--intro-->
        </div><!--container-->
    </section>

    <section id="section6">
        <div class="container">
            <div id="intro2">
                <h3>How Capsule Works</h3>
                <p> When you include the Capsule class in your JAR file and set it to serve as the JAR's main class, Capsule reads various configuration values (like JVM arguments, environment variables, Maven dependencies and more) and caplets from the JAR's manifest. It then optionally extracts the JAR's contents into a cache directory, performs custom caplet operations, picks a JVM installation based on the version requirements in the manifest, and finally, it spawns another JVM process to run your application as configured.</p>
            </div><!--intro-->
        </div><!--container-->
    </section>

    <section id="section7">
        <div class="container">
            <div id="intro">
                <h3>What Capsule Doesn't Do</h3>
                <p>Capsule doesn't contain a JVM distribution, the application user would need to have a JRE installed. Java 9 is expected to have a mechanism for packaging stripped-down versions of the JVM.</p>
            </div><!--intro-->
        </div><!--container-->
    </section>

     <section id="section8">
        <div class="container">
            <div id="intro2">
                <h3>Overhead</h3>
                <p> A plain capsule adds about 100ms to the startup time, and negligible size to the JAR.</p>
            </div><!--intro-->
        </div><!--container-->
    </section>


</body>
